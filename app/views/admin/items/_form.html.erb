<h1 class="text-center my-4"><%= @item.new_record? ? 'Create New Item' : 'Edit Item' %></h1>

<div class="container">
  <%= form_with(model: @item, url: @item.new_record? ? admin_items_path : admin_item_path(@item)) do |form| %>
    <div class="card shadow-sm border-0">
      <div class="card-header bg-dark text-white">
        <h2 class="mb-0"><%= @item.new_record? ? 'Create New Item' : 'Edit Item' %></h2>
      </div>
      
      <div class="card-body">
        <!-- Name -->
        <div class="mb-3">
          <%= form.label :name, class: 'form-label fw-bold' %>
          <%= form.text_field :name, class: 'form-control', placeholder: 'Enter item name' %>
        </div>

        <!-- Picture Upload -->
        <div class="mb-3">
          <%= form.label :picture, 'Upload Picture', class: 'form-label fw-bold' %>
          <%= form.file_field :picture, class: 'form-control' %>
          <% if @item.picture.present? %>
            <div class="mt-2">
              <p>Current Picture</p>
              <%= image_tag @item.picture.url(:thumb), class: 'img-thumbnail ms-2', style: 'width: 50px; height: 50px; object-fit: cover;' %>
            </div>
          <% end %>
        </div>
      </div>

      <div class="card-footer d-flex justify-content-between">
        <%= link_to 'Back', admin_items_path, class: 'btn btn-outline-secondary px-4' %>
        <%= form.submit @item.new_record? ? 'Create Item' : 'Update Item', class: 'btn btn-dark px-4' %>
      </div>
    </div>
  <% end %>
</div>
