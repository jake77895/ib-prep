<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Career Tree</title>
    <!-- Include Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>

    <div class="mb-4 mt-4 px-4">
      <div class="card shadow-sm position-relative">
        <!-- Back Button -->
        <%= link_to params[:origin_page] || root_path, class: 'btn btn-light rounded-circle shadow-sm d-flex align-items-center justify-content-center position-absolute', style: 'width: 40px; height: 40px; top: 10px; left: 10px;' do %>
          <span class="fs-6">&larr;</span>
        <% end %>

        <!-- Title and Description -->
        <div class="card-body text-center bg-light">
          <h1 class="fw-bold text-uppercase" style="letter-spacing: 1px; margin-bottom: 10px; margin-top: 10px;">Career Tree</h1>
          <p class="text-muted" style="font-size: 14px;">Explore your future</p>
        </div>



      </div>

    </div>

  <div class="px-4">
    <div class="row g-3">
      <div class="col-lg-3 col-md-6 col-12">
        <%= link_to "Overview", overview_career_data_path, class: "btn btn-dark w-100 py-2" %>
      </div>
      <div class="col-lg-3 col-md-6 col-12">
        <%= link_to "Career Change", change_career_data_path, class: "btn btn-dark w-100 py-2" %>
      </div>
      <div class="col-lg-3 col-md-6 col-12">
        <%= link_to "Career Start", start_career_data_path, class: "btn btn-dark w-100 py-2" %>
      </div>
      <div class="col-lg-3 col-md-6 col-12">
        <%= link_to "Add Compensation Details", step_one_career_jobs_path, class: "btn btn-primary w-100 py-2" %>
      </div>
    </div>
  </div>


  <div class="mb-4 mt-4 px-4">
    <div class="card shadow-sm position-relative">
      <div class="card-body">
        <div id="categories" class="text-center py-0 px-3"></div>
        <div id="chart" style="overflow-x: auto; white-space: nowrap;"></div>
      </div>
    </div>
  </div>




<!-- Include D3.js -->
<script src="https://d3js.org/d3.v7.min.js"></script>
   
    

<!-- Include the scripts that define renderChart() and renderLinks() FIRST -->
<%= render 'career_data/node_chart/render_chart' %>
<%#= render 'career_data/node_chart/render_links' %>


<!-- Fetching and rendering nodes and links -->
<%= render 'career_data/node_chart/fetch_and_render' %>

<!-- Rendering the modals -->
<%= render 'career_data/node_chart/node_modal' %>
<%= render 'career_data/node_chart/node_modal_exits' %>

<%#= render 'career_data/node_chart/link_modal' %>


  </body>
</html>
