<!-- Add Your Meeting And Availability Buttons -->
<div class="row align-items-center mb-3">
  <div class="col-auto ms-auto">
    <%= link_to "Your Meetings", mock_interviews_path, class: "btn btn-outline-dark" %>

    <!-- Availability Button -->
    <% if user_signed_in? %>
      <% if current_user.mock_interview_profile.present? %>
        <button class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#addAvailabilityModal">Add Availability</button>
      <% else %>
        <button class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#createProfileModal">Add Availability</button>
      <% end %>
    <% else %>
      <button class="btn btn-dark" data-bs-toggle="tooltip" title="You must sign in">Add Availability</button>
    <% end %>
  </div>
</div>

<!-- Filters and Submit Button -->
<div class="card p-3 mb-3">
  <div class="row g-3 align-items-center">
    <!-- Date Filter -->
    <div class="col">
      <label for="filter-date" class="form-label fw-bold">Date</label>
      <input type="date" id="filter-date" class="form-control" value="<%= Date.today %>">
    </div>

    <!-- Time Zone Changer -->
    <div class="col">
      <label for="filter-time-zone" class="form-label fw-bold">Time Zone</label>
      <select id="filter-time-zone" class="form-select">
        <% ActiveSupport::TimeZone.all.each do |tz| %>
          <option value="<%= tz.name %>" <%= "selected" if tz.name == Time.zone.name %>><%= tz.name %></option>
        <% end %>
      </select>
    </div>

    <!-- Time Range -->
    <div class="col">
      <label for="filter-time-range" class="form-label fw-bold">Time Range</label>
      <div class="d-flex align-items-center">
        <select id="time-range-start" class="form-select me-2">
          <% (0..23).each do |hour| %>
            <% ["00", "15", "30", "45"].each do |minute| %>
              <option value="<%= "%02d:%02d" % [hour, minute] %>">
                <%= Time.parse("#{hour}:#{minute}").strftime("%I:%M %p") %>
              </option>
            <% end %>
          <% end %>
        </select>
        <span class="mx-1">to</span>
        <select id="time-range-end" class="form-select">
          <% (0..23).each do |hour| %>
            <% ["00", "15", "30", "45"].each do |minute| %>
              <option value="<%= "%02d:%02d" % [hour, minute] %>">
                <%= Time.parse("#{hour}:#{minute}").strftime("%I:%M %p") %>
              </option>
            <% end %>
          <% end %>
        </select>
      </div>
    </div>

    <!-- Language Filter -->
    <div class="col">
      <label for="filter-language" class="form-label fw-bold">Language</label>
      <select id="filter-language" class="form-select">
        <option selected value="">Any</option>
        <option value="English">English</option>
        <option value="Spanish">Spanish</option>
        <option value="French">French</option>
        <option value="Chinese">Chinese</option>
        <option value="German">German</option>
      </select>
    </div>

    <!-- Interview Prep Level Filter -->
    <div class="col">
      <label for="filter-prep-level" class="form-label fw-bold">Prep Level</label>
      <select id="filter-prep-level" class="form-select">
        <option selected value="">Any</option>
        <option value="Novice">Novice</option>
        <option value="Intermediate">Intermediate</option>
        <option value="Advanced">Advanced</option>
      </select>
    </div>

    <!-- Submit Button -->
    <!-- Submit Button -->
<div class="col-auto">
  <div class="d-flex h-100 align-items-end">
    <button class="btn btn-dark" style="margin-top: 2.0rem;">Apply Filters</button>
  </div>
</div>

  </div>
</div>

<!-- Render Add Availability Modal Partial -->
<%= render 'mock_interviews/add_availability_modal' %>
